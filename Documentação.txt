üìö Manual de Documenta√ß√£o: Gest√£o de Eventos
Este manual documenta a l√≥gica de dois projetos de gest√£o de eventos: um aplicativo desktop desenvolvido em Python (Tkinter) e um aplicativo web simples usando HTML, CSS e JavaScript. Ambos compartilham a mesma estrutura de dados para o gerenciamento de eventos e participantes.

1. Projeto Python (Desktop) üñ•Ô∏è
O projeto Python (planning_events.py) implementa um aplicativo desktop usando a biblioteca Tkinter para a interface gr√°fica. Ele utiliza um arquivo JSON (events.json) para persistir os dados dos eventos.

1.1. Arquivos e Estrutura de Dados
O aplicativo se baseia em dois arquivos principais e um dicion√°rio global:

events.json: O arquivo de persist√™ncia. Armazena a lista de eventos e o pr√≥ximo ID dispon√≠vel.

planning_events.py: Cont√©m toda a l√≥gica da aplica√ß√£o (carregamento/salvamento, interface, CRUD de eventos/participantes).

Vari√°veis Globais Chave:

eventos: Dicion√°rio que mant√©m o estado atual de todos os eventos.

ID_CONTADOR: Vari√°vel inteira que armazena o pr√≥ximo ID a ser usado para um novo evento, garantindo unicidade.

1.2. Persist√™ncia de Dados (JSON)
As fun√ß√µes de carregamento e salvamento manipulam o arquivo events.json.

Carregamento (load_events):

Verifica se o arquivo events.json existe. Se n√£o, inicializa eventos como vazio e ID_CONTADOR como 1.

Se o arquivo existe, carrega o JSON, converte as chaves de evento para inteiros e atualiza o ID_CONTADOR com o valor de next_id ou calcula o pr√≥ximo ID se next_id estiver faltando.

Python

def load_events():
    global eventos, ID_CONTADOR
    # ... (c√≥digo de verifica√ß√£o)
    try:
        # ...
        eventos = {int(k): v for k, v in payload.get("eventos", {}).items()}
        # ...
    # ...
Salvamento (save_events):

Antes de salvar, as chaves do dicion√°rio eventos s√£o convertidas de volta para strings, pois chaves de objetos JSON devem ser strings.

O dicion√°rio de eventos e o ID_CONTADOR (como next_id) s√£o encapsulados no payload e escritos no arquivo.

Python

def save_events():
    try:
        payload = {"eventos": {str(k): v for k, v in eventos.items()}, "next_id": ID_CONTADOR}
        with open(DATA_FILE, "w", encoding="utf-8") as f:
            json.dump(payload, f, ensure_ascii=False, indent=2)
    # ...
1.3. L√≥gica da Interface (Tkinter)
A interface principal exibe os eventos em um widget ttk.Treeview.

Visualiza√ß√£o (atualizar_treeview):

Limpa todas as linhas do Treeview.

Itera sobre o dicion√°rio eventos (ordenado por ID), inserindo cada evento como uma nova linha.

A coluna "Inscritos" √© preenchida com o comprimento da lista inscricoes do evento.

Adicionar Evento (abrir_adicionar_evento):

Cria uma janela de n√≠vel superior (tk.Toplevel).

Na fun√ß√£o salvar, valida campos obrigat√≥rios, cria o novo evento com uma lista inscricoes vazia, atribui o ID_CONTADOR atual, incrementa o contador, salva e atualiza a view.

Python

def salvar():
    global ID_CONTADOR
    # ... (valida√ß√£o e coleta de dados)
    novo = {"nome": nome, "data": data, "local": local, "telefone": tel, "inscricoes": []}
    eventos[ID_CONTADOR] = novo
    ID_CONTADOR += 1
    save_events()
    # ...
Inscrever Participante (abrir_inscrever_participante):

Requer que um evento seja selecionado no Treeview.

O novo dicion√°rio de participante √© anexado √† lista inscricoes do evento selecionado.

Remover Participante (abrir_remover_participante):

Exibe os inscritos em um tk.Listbox.

A remo√ß√£o √© feita pelo √≠ndice selecionado no Listbox usando list.pop(idx).

Python

def remover_selecionado():
    # ...
    idx = sel[0]
    # ... (confirma√ß√£o)
    dados["inscricoes"].pop(idx) # Remo√ß√£o pelo √≠ndice
    save_events()
    # ...
Remover Evento (remover_evento):

Requer um evento selecionado.

Usa a opera√ß√£o del eventos[id_evento] para remover o par chave/valor do dicion√°rio eventos.

2. Projeto Web (HTML/CSS/JS) üåê
O projeto web utiliza HTML, CSS e JavaScript e o armazenamento local do navegador (localStorage) para persist√™ncia de dados.

2.1. Persist√™ncia de Dados (localStorage)
O JavaScript usa JSON.stringify() para salvar e JSON.parse() para carregar os dados.

Carregamento (loadEvents):

Busca a string JSON sob a chave DATA_KEY no localStorage.

Converte as chaves de evento de strings para inteiros ao popular o objeto eventos global.

JavaScript

function loadEvents() {
    // ...
    if (storedData) {
        const payload = JSON.parse(storedData);
        eventos = Object.keys(payload.eventos || {}).reduce((acc, key) => {
            acc[parseInt(key)] = payload.eventos[key]; // Convers√£o para Int
            return acc;
        }, {});
        // ...
    }
    // ...
}
Salvamento (saveEvents):

Salva o objeto eventos e o ID_CONTADOR no localStorage ap√≥s serializar o payload com JSON.stringify().

2.2. L√≥gica da Interface (DOM/JS)
A manipula√ß√£o da interface √© feita via Dicion√°rio de Objetos do Documento (DOM).

Sele√ß√£o de Evento:

A vari√°vel global eventoSelecionadoID rastreia o ID do evento clicado na tabela.

A fun√ß√£o selecionarLinha atualiza essa vari√°vel e aplica a classe CSS .selected √† linha correspondente.

Visualiza√ß√£o (atualizarTabelaEventos):

Limpa o corpo da tabela (tbody).

Cria dinamicamente novos elementos <tr> e <td> com base nos dados.

O n√∫mero de inscritos √© preenchido com dados.inscricoes.length.

Remover Participante (removerParticipante):

A remo√ß√£o √© acionada por um bot√£o no modal "Consultar Inscritos".

Utiliza o m√©todo Array.splice(index, 1) do JavaScript para remover o item da lista inscricoes pelo √≠ndice passado como par√¢metro.

JavaScript

function removerParticipante(index) {
    // ... (confirma√ß√£o)
    evento.inscricoes.splice(index, 1); // Remo√ß√£o pelo √≠ndice
    saveEvents();
    // ...
}
Remover Evento (removerEventoSelecionado):

Utiliza a instru√ß√£o delete eventos[eventoSelecionadoID] do JavaScript para remover a propriedade (evento) do objeto global eventos.

JavaScript

function removerEventoSelecionado() {
    // ... (confirma√ß√£o)
    delete eventos[eventoSelecionadoID];
    eventoSelecionadoID = null;
    saveEvents();
    // ...
}
3. Considera√ß√µes Finais
Ambos os projetos implementam a mesma l√≥gica central de gest√£o de eventos (CRUD), diferenciando-se apenas na tecnologia de interface (Tkinter vs. HTML/CSS/JS) e no mecanismo de persist√™ncia de dados (arquivo JSON no desktop vs. localStorage no navegador). A consist√™ncia na estrutura de dados (eventos como dicion√°rio de ID -> evento, com inscricoes como lista de dicion√°rios) √© a chave para o funcionamento de ambos os sistemas.
